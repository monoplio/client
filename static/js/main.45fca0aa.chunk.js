(this.webpackJsonpconstruction=this.webpackJsonpconstruction||[]).push([[0],{214:function(e,n,t){},234:function(e,n){},236:function(e,n){},250:function(e,n){},252:function(e,n){},285:function(e,n){},286:function(e,n){},291:function(e,n){},293:function(e,n){},300:function(e,n){},319:function(e,n){},344:function(e,n){function t(e){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}t.keys=function(){return[]},t.resolve=t,e.exports=t,t.id=344},361:function(e,n,t){},362:function(e,n,t){"use strict";t.r(n);var r=t(2),a=t(7),i=t(203),l=t.n(i),c=(t(214),t(19)),s=t(14),o=t(9);function u(){var e=Object(s.a)(["\n    mutation($playerId: ID!, $propertyId: ID!){\n        buyHouse(playerId: $playerId, propertyId: $propertyId){\n            id\n        }\n    }\n"]);return u=function(){return e},e}var d=Object(o.gql)(u());function b(){var e=Object(s.a)(["\n    mutation($playerId: ID!, $propertyId: ID!){\n        buyProperty(playerId: $playerId, propertyId: $propertyId){\n            id\n        }\n    }\n"]);return b=function(){return e},e}var j=Object(o.gql)(b());function m(){var e=Object(s.a)(["\n    mutation($propertyId: ID!){\n        createAuction(propertyId: $propertyId){\n          id\n        }\n      }\n"]);return m=function(){return e},e}var p=Object(o.gql)(m());function O(){var e=Object(s.a)(["\n  mutation createGame ($username: String!) {\n    createGame(username: $username) {\n        id\n        owner {\n            id\n            username\n            color\n            game {\n                id\n            }\n        }\n    }\n  }\n"]);return O=function(){return e},e}var y=Object(o.gql)(O());function g(){var e=Object(s.a)(["\n    mutation($playerId: ID!, $auctionId: ID!){\n        endBid(playerId: $playerId, auctionId: $auctionId){\n          id\n        }\n      }\n"]);return g=function(){return e},e}var h=Object(o.gql)(g());function v(){var e=Object(s.a)(["\n  mutation($playerId: ID!){\n    endTurn(playerId: $playerId){\n      id\n    }\n  }\n"]);return v=function(){return e},e}var x=Object(o.gql)(v());function f(){var e=Object(s.a)(["\n    mutation($playerId: ID!, $auctionId: ID!, $bidAmount: Int!){\n        increaseBid(playerId: $playerId, auctionId: $auctionId, bidAmount: $bidAmount){\n          id\n        }\n      }\n"]);return f=function(){return e},e}var I=Object(o.gql)(f());function T(){var e=Object(s.a)(["\n  mutation($username: String!, $gameId: ID!){\n    joinGame(username: $username, gameId: $gameId){\n      balance\n      id\n      isPlaying\n      lastRoll1\n      lastRoll2\n      color\n      username\n      x\n      y\n    }\n  }\n"]);return T=function(){return e},e}var N=Object(o.gql)(T());function $(){var e=Object(s.a)(["\n  mutation($propertyId: ID!){\n    mortgageProperty(propertyId: $propertyId){\n      id\n    }\n  }\n"]);return $=function(){return e},e}var P=Object(o.gql)($());function C(){var e=Object(s.a)(["\n  mutation($username: String!, $gameId: ID!){\n    rejoinGame(username: $username, gameId: $gameId){\n      balance\n      id\n      isPlaying\n      lastRoll1\n      lastRoll2\n      color\n      username\n      x\n      y\n    }\n  }\n"]);return C=function(){return e},e}var k=Object(o.gql)(C());function S(){var e=Object(s.a)(["\n  mutation($playerId: ID!){\n    rollDice(playerId: $playerId){\n      id\n    }\n  }\n"]);return S=function(){return e},e}var w=Object(o.gql)(S());function D(){var e=Object(s.a)(["\n    mutation($playerId: ID!, $propertyId: ID!){\n        sellHouse(playerId: $playerId, propertyId: $propertyId){\n            id\n        }\n    }\n"]);return D=function(){return e},e}var q=Object(o.gql)(D());function F(){var e=Object(s.a)(["\n  mutation($gameId: ID!){\n    startGame(gameId: $gameId){\n      id\n    }\n  }\n"]);return F=function(){return e},e}var R=Object(o.gql)(F());function M(){var e=Object(s.a)(["\n  mutation($propertyId: ID!){\n    unmortgageProperty(propertyId: $propertyId){\n      id\n    }\n  }\n"]);return M=function(){return e},e}var A=Object(o.gql)(M());function B(){var e=Object(s.a)(["   \n    query($id: ID!){\n        game(id: $id){\n            auctions {\n                bids {\n                    amount\n                    player {\n                        id\n                    }\n                }\n                id\n            }\n            height\n            hotelAvailable\n            houseAvailable\n            id\n            players {\n                id\n                username\n                color\n                balance\n            }\n            owner {\n                id\n                username\n            }\n            currentPlayer{\n                id\n                username\n                canRoll\n                lastRoll1\n                lastRoll2\n                balance\n                tile {\n                    id\n                    boardTile{\n                        ... on ActionTile {\n                            id\n                            name\n                        }\n                        ... on Property {\n                            id\n                            name\n                            price\n                            mortgage\n                            stage\n                            state\n                            housePrice\n                            propertySet{\n                                color\n                            }\n                            player{\n                                id\n                            }\n                        }\n                        ... on Deck {\n                            id\n                            name\n                        }\n                        ... on Utility {\n                            id\n                            name\n                            price\n                        }\n                    }\n                    boardTileType\n                }\n            }\n            state\n            tiles {\n            id\n            boardTile{\n                ... on ActionTile {\n                    id\n                    name\n                }\n                ... on Property {\n                    id\n                    name\n                    price\n                    mortgage\n                    stage\n                    state\n                    housePrice\n                    propertySet{\n                        color\n                    }\n                    player{\n                        color\n                    }\n                }\n                ... on Deck {\n                    id\n                    name\n                }\n                ... on Utility {\n                    id\n                    name\n                    price\n                }\n            }\n            boardTileType\n            currentPlayers{\n                id\n                color\n            }\n            x\n            y\n            }\n            width\n        }\n    }  \n"]);return B=function(){return e},e}var H=Object(o.gql)(B());function U(){var e=Object(s.a)(["   \n    query{\n        games{\n            id\n            height\n            hotelAvailable\n            houseAvailable\n        }\n    }  \n"]);return U=function(){return e},e}Object(o.gql)(U());function G(){var e=Object(s.a)(["   \n    query($id: ID!) {\n        tile(id: $id) {\n            boardTile{\n                ... on ActionTile {\n                    id\n                    name\n                }\n                ... on Property {\n                    id\n                    name\n                    price\n                    mortgage\n                    stage\n                    state\n                    housePrice\n                    canBuyHouse\n                    canSellHouse\n                    propertyRents{\n                        stage\n                        rent\n                    }\n                    propertySet{\n                        color\n                    }\n                    player{\n                        id\n                    }\n                }\n                ... on Deck {\n                    id\n                    name\n                }\n                ... on Utility {\n                    id\n                    name\n                    price\n                }\n            }\n            boardTileType\n        }\n    }\n"]);return G=function(){return e},e}var E=Object(o.gql)(G());function z(){var e=Object(s.a)(["\n    subscription{\n        gameEvents{\n            data{\n                auctions {\n                    bids {\n                        amount\n                        player {\n                            id\n                        }\n                    }\n                    id\n                }\n                height\n                hotelAvailable\n                houseAvailable\n                id\n                players {\n                    id\n                    username\n                    color\n                    balance\n                }\n                owner {\n                    id\n                    username\n                }\n                currentPlayer{\n                    id\n                    username\n                    canRoll\n                    lastRoll1\n                    lastRoll2\n                    balance\n                    tile {\n                        id\n                        boardTile{\n                            ... on ActionTile {\n                                id\n                                name\n                            }\n                            ... on Property {\n                                id\n                                name\n                                price\n                                mortgage\n                                stage\n                                state\n                                housePrice\n                                propertySet{\n                                    color\n                                }\n                                player{\n                                    id\n                                }\n                            }\n                            ... on Deck {\n                                id\n                                name\n                            }\n                            ... on Utility {\n                                id\n                                name\n                                price\n                            }\n                        }\n                        boardTileType\n                    }\n                }\n                state\n                tiles {\n                id\n                boardTile{\n                    ... on ActionTile {\n                        id\n                        name\n                    }\n                    ... on Property {\n                        id\n                        name\n                        price\n                        mortgage\n                        stage\n                        state\n                        housePrice\n                        propertySet{\n                            color\n                        }\n                        player{\n                            color\n                        }\n                    }\n                    ... on Deck {\n                        id\n                        name\n                    }\n                    ... on Utility {\n                        id\n                        name\n                        price\n                    }\n                }\n                boardTileType\n                currentPlayers{\n                    id\n                    color\n                }\n                x\n                y\n                }\n                width\n            }\n            message\n        }\n    }\n"]);return z=function(){return e},e}var L=Object(o.gql)(z()),Q=t(26),J=function(e){return Object(r.jsxs)("div",{className:"board",children:[Object(r.jsxs)("div",{className:"horizontal-row",children:[Object(r.jsx)(X,{tile:e.game.tiles[20]}),Object(r.jsx)(re,{style:{transform:"rotate(180deg)"},tiles:e.game.tiles.slice(21,30).reverse(),setSelectedTile:e.setSelectedTile}),Object(r.jsx)(X,{tile:e.game.tiles[30]})]}),Object(r.jsxs)("div",{className:"middle-row",children:[Object(r.jsx)("div",{className:"column",children:Object(r.jsx)(re,{style:{transform:"rotate(90deg)"},tiles:e.game.tiles.slice(11,20).reverse(),setSelectedTile:e.setSelectedTile})}),Object(r.jsxs)("div",{className:"center-board",children:[Object(r.jsx)("img",{src:"https://i.imgur.com/1XwqRQP.png",width:"300px"}),e.message&&"RollDice"===e.message&&Object(r.jsx)(_,{dice:e.game.currentPlayer})]}),Object(r.jsx)("div",{className:"column",children:Object(r.jsx)(re,{style:{transform:"rotate(270deg)"},tiles:e.game.tiles.slice(31,40).reverse(),setSelectedTile:e.setSelectedTile})})]}),Object(r.jsxs)("div",{className:"horizontal-row",children:[Object(r.jsx)(X,{tile:e.game.tiles[10]}),Object(r.jsx)(re,{tiles:e.game.tiles.slice(1,10).reverse(),setSelectedTile:e.setSelectedTile}),Object(r.jsx)(X,{tile:e.game.tiles[0]})]})]})},X=function(e){return Object(r.jsxs)("div",{className:"corner",children:[Object(r.jsx)("div",{className:"corner-tile-players",children:e.tile.currentPlayers.map((function(e){return Object(r.jsx)("div",{className:"horizontal-tile-player",style:{backgroundColor:e.color},onClick:function(){return console.log(e)}},"player-"+e.id)}))}),Object(r.jsx)("div",{children:e.tile.boardTile.name})]})},_=function(e){return Object(r.jsxs)("div",{className:"dice-wrap",children:[Object(r.jsx)("span",{className:"dice dice-"+e.dice.lastRoll1,title:"Dice "+e.dice.lastRoll1}),Object(r.jsx)("span",{className:"dice dice-"+e.dice.lastRoll2,title:"Dice "+e.dice.lastRoll2})]})};function V(e){var n=Object(a.useState)(""),t=Object(c.a)(n,2),i=t[0],l=t[1],s=Object(o.useQuery)(E,{variables:{id:e.tileId}}),u=s.loading,d=s.data;return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:"modal",children:[Object(r.jsx)("label",{className:"modal-bg",htmlFor:"modal-1"}),Object(r.jsx)("div",{className:"modal-inner",children:Object(r.jsxs)("div",{className:"modal-body",children:[!u&&d&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(ee,{tile:d.tile}),Object(r.jsx)("div",{style:{marginBottom:"2em"}})]}),Object(r.jsxs)("h2",{children:["Highest Bid: $",e.highest]}),!e.bal||e.bal>e.highest?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("input",{className:"menu-input-num",min:"".concat(e.highest+1),type:"number",onChange:function(n){l(n.target.value),e.setBid(n.target.value)}}),Object(r.jsx)("input",{className:"menu-button",type:"button",value:"Increase Bid",onClick:function(){e.setBid(i),e.increase()}})]}):null,function(){for(var n=e.bids[0],t=1;t<e.bids.length;t++)n=e.bids[t].amount>n.amount?e.bids[t]:n;return e.user.id!==n.player.id||0===n.amount}()?Object(r.jsx)("input",{className:"menu-button",type:"button",value:"End Bid",onClick:function(){e.end()}}):null]})})]})})}function W(e){var n=Object(a.useState)(!0),t=Object(c.a)(n,2),i=t[0],l=t[1],s=Object(o.useQuery)(E,{variables:{id:e.tileId}}),u=s.loading,d=s.data,b=function(){l(!1)};return Object(r.jsx)(r.Fragment,{children:i?Object(r.jsxs)("div",{className:"modal",children:[Object(r.jsx)("label",{className:"modal-bg",htmlFor:"modal-1"}),Object(r.jsx)("div",{className:"modal-inner",children:Object(r.jsxs)("div",{className:"modal-body",children:[!u&&d&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(ee,{tile:d.tile}),Object(r.jsx)("div",{style:{marginBottom:"2em"}})]}),Object(r.jsx)("input",{className:"menu-button",type:"button",value:"Buy",onClick:function(){e.buy(),b()}}),Object(r.jsx)("input",{className:"menu-button",type:"button",value:"Auction",onClick:function(){e.auction(),b()}})]})})]}):null})}var K=t(205),Y=t.n(K),Z=function(e){return Object(r.jsx)("button",{className:"menu-button",onClick:e.func,children:e.loading?Object(r.jsx)(Y.a,{color:"white",size:15}):Object(r.jsx)("span",{children:e.value})})},ee=function(e){return Object(r.jsx)(r.Fragment,{children:"Property"===e.tile.boardTileType&&"black"!==e.tile.boardTile.propertySet.color&&Object(r.jsxs)("div",{className:"property-detailed",children:[Object(r.jsx)("div",{className:"property-detailed-header",style:{backgroundColor:e.tile.boardTile.propertySet.color},children:e.tile.boardTile.name}),Object(r.jsxs)("div",{className:"property-detailed-rent",children:["RENT $",e.tile.boardTile.propertyRents[0].rent]}),Object(r.jsx)("hr",{}),Object(r.jsx)(r.Fragment,{children:e.tile.boardTile.propertyRents.map((function(e){return Object(r.jsx)(r.Fragment,{children:0!==e.stage&&Object(r.jsxs)("div",{className:"property-detailed-row",children:[Object(r.jsxs)("div",{children:["With ",e.stage<5?e.stage:""," ",1!==e.stage?5!==e.stage?"Houses":"HOTEL":"House"]}),Object(r.jsxs)("div",{children:["$",e.rent]})]},e.stage)})}))}),Object(r.jsx)("hr",{}),Object(r.jsxs)("div",{className:"property-detailed-row",children:[Object(r.jsx)("div",{children:"House Cost"}),Object(r.jsxs)("div",{children:["$",e.tile.boardTile.housePrice]})]}),Object(r.jsxs)("div",{className:"property-detailed-row",children:[Object(r.jsx)("div",{children:"Mortgage Value"}),Object(r.jsxs)("div",{children:["$",e.tile.boardTile.mortgage]})]})]})})},ne=function(e){return Object(r.jsxs)("div",{className:"property-header",style:{backgroundColor:e.color},children:[e.stage<5&&Object(r.jsxs)(r.Fragment,{children:[e.stage>=1&&Object(r.jsx)("div",{className:"property-house"}),e.stage>=2&&Object(r.jsx)("div",{className:"property-house"}),e.stage>=3&&Object(r.jsx)("div",{className:"property-house"}),e.stage>=4&&Object(r.jsx)("div",{className:"property-house"})]}),e.stage>=5&&Object(r.jsx)("div",{className:"property-hotel"})]})},te=function(e){return Object(r.jsxs)("div",{className:"horizontal-tile",onClick:function(){return e.setSelectedTile(e.tile.id)},style:{backgroundColor:"Property"===e.tile.boardTileType?"mortgaged"===e.tile.boardTile.state?"gray":"white":" white"},children:[Object(r.jsx)("div",{className:"horizontal-tile-players",children:e.tile.currentPlayers.map((function(e){return Object(r.jsx)("div",{className:"horizontal-tile-player",style:{backgroundColor:e.color}},"player-"+e.id)}))}),"ActionTile"===e.tile.boardTileType&&Object(r.jsx)("div",{children:e.tile.boardTile.name}),"Property"===e.tile.boardTileType&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(ne,{color:e.tile.boardTile.propertySet.color,stage:e.tile.boardTile.stage}),Object(r.jsx)("div",{children:e.tile.boardTile.name}),Object(r.jsxs)("div",{children:["$",e.tile.boardTile.price]}),null!==e.tile.boardTile.player&&Object(r.jsx)("div",{style:{backgroundColor:e.tile.boardTile.player.color,height:"5px"}})]}),"Deck"===e.tile.boardTileType&&Object(r.jsx)("div",{children:e.tile.boardTile.name}),"Utility"===e.tile.boardTileType&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{children:e.tile.boardTile.name}),Object(r.jsxs)("div",{children:["$",e.tile.boardTile.price]})]})]},e.key)},re=function(e){return Object(r.jsx)("div",{className:"row",style:e.style,children:e.tiles.map((function(n){return Object(r.jsx)(te,{tile:n,setSelectedTile:e.setSelectedTile},n.id)}))})},ae=function(e){var n,t=Object(a.useState)("initial"),i=Object(c.a)(t,2),l=i[0],s=i[1],u=Object(a.useState)(),d=Object(c.a)(u,2),b=d[0],j=d[1],m=Object(a.useState)(null),p=Object(c.a)(m,2),O=p[0],g=p[1],h=Object(a.useState)(!1),v=Object(c.a)(h,2),x=v[0],f=v[1],I=(n={onCompleted:function(n){f(!1),e.setUser(n.createGame.owner),g(n.createGame.id)}},Object(o.useMutation)(y,n)),T=Object(c.a)(I,1)[0];return Object(r.jsxs)("div",{className:"join-page",children:[O&&Object(r.jsx)(Q.a,{to:"/game/"+O}),Object(r.jsxs)("div",{className:"menu",children:["initial"===l&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"menu-title",children:Object(r.jsx)("img",{src:"https://i.imgur.com/1XwqRQP.png",width:"300px"})}),Object(r.jsx)("input",{className:"menu-button",type:"button",value:"Create Lobby",onClick:function(){return s("creating")}}),Object(r.jsx)("a",{className:"menu-button",href:"https://github.com/monoplio",children:"Github"}),Object(r.jsx)("p",{style:{fontSize:"10px",marginTop:"3em"},children:"\xa9 Justin Chang & Matthew MacRae-Bovell"})]}),"creating"===l&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("input",{className:"menu-input",type:"text",placeholder:"Nickname (optional)",name:"username",value:b,onChange:function(e){switch(e.target.name){case"username":j(e.target.value)}}}),Object(r.jsx)(Z,{func:function(){""!==b&&b.length>0?(f(!0),T({variables:{username:b}})):""===b&&alert("Please enter a title.")},loading:x,value:"Go"}),Object(r.jsx)("input",{className:"menu-button",type:"button",value:"Back",onClick:function(){return s("initial")}})]})]})]})},ie=function(e){var n,t=Object(Q.g)().id,i=Object(a.useState)(null),l=Object(c.a)(i,2),s=l[0],u=l[1],b=Object(a.useState)(),m=Object(c.a)(b,2),O=m[0],y=m[1],g=Object(a.useState)(null),v=Object(c.a)(g,2),f=v[0],T=v[1],$=Object(a.useState)(0),C=Object(c.a)($,2),S=C[0],D=C[1],F=Object(o.useQuery)(H,{variables:{id:t}}),M=F.loading,B=F.data,U=Object(o.useSubscription)(L,{variables:{gameId:t},onSubscriptionData:function(e){var n=e.subscriptionData.data;u(n.gameEvents.data)}}).data,G=function(e){T(f)},z=Object(o.useQuery)(E,{skip:null===f,variables:{id:f}}),X=z.loading,_=z.data,K=(n={variables:{playerId:e.user?e.user.id:-1,auctionId:s&&s.auctions&&s.auctions[0]?s.auctions[0].id:-1,bidAmount:parseInt(S)}},Object(o.useMutation)(I,n)),Y=Object(c.a)(K,1)[0],Z=function(e){return Object(o.useMutation)(h,e)}({variables:{playerId:e.user?e.user.id:-1,auctionId:s&&s.auctions&&s.auctions[0]?s.auctions[0].id:-1}}),ne=Object(c.a)(Z,1)[0],te=function(e){return Object(o.useMutation)(p,e)}({variables:{propertyId:s&&s.currentPlayer?s.currentPlayer.tile.boardTile.id:-1}}),re=Object(c.a)(te,1)[0],ae=function(e){return Object(o.useMutation)(j,e)}({variables:{playerId:e.user?e.user.id:-1,propertyId:s&&s.currentPlayer?s.currentPlayer.tile.boardTile.id:-1}}),ie=Object(c.a)(ae,1)[0],le=function(e){return Object(o.useMutation)(d,e)}({onCompleted:G,variables:{playerId:e.user?e.user.id:-1,propertyId:!X&&_&&_.tile?_.tile.boardTile.id:-1}}),ce=Object(c.a)(le,1)[0],se=function(e){return Object(o.useMutation)(q,e)}({onCompleted:G,variables:{playerId:e.user?e.user.id:-1,propertyId:!X&&_&&_.tile?_.tile.boardTile.id:-1}}),oe=Object(c.a)(se,1)[0],ue=function(e){return Object(o.useMutation)(N,e)}({onCompleted:function(n){e.setUser(n.joinGame)}}),de=Object(c.a)(ue,1)[0],be=function(e){return Object(o.useMutation)(k,e)}({onCompleted:function(n){e.setUser(n.rejoinGame)}}),je=Object(c.a)(be,1)[0],me=function(e){return Object(o.useMutation)(R,e)}({variables:{gameId:t}}),pe=Object(c.a)(me,1)[0],Oe=function(e){return Object(o.useMutation)(w,e)}({variables:{playerId:e.user?e.user.id:-1}}),ye=Object(c.a)(Oe,1)[0],ge=function(e){return Object(o.useMutation)(x,e)}({onCompleted:function(e){T(null)},variables:{playerId:e.user?e.user.id:-1}}),he=Object(c.a)(ge,1)[0],ve=function(e){return Object(o.useMutation)(P,e)}({variables:{propertyId:_?parseInt(_.tile.boardTile.id):-1}}),xe=Object(c.a)(ve,1)[0],fe=function(e){return Object(o.useMutation)(A,e)}({variables:{propertyId:_?parseInt(_.tile.boardTile.id):-1}}),Ie=Object(c.a)(fe,1)[0];return Object(a.useEffect)((function(){M||null===s&&u(B.game)}),[B]),Object(r.jsxs)("div",{className:"game-page",children:[!M&&s&&"pending"===s.state&&Object(r.jsxs)("div",{className:"menu",children:[Object(r.jsx)("img",{src:"https://i.imgur.com/1XwqRQP.png",width:"300px"}),Object(r.jsxs)("div",{className:"menu-title",children:["Game ",t]}),Object(r.jsx)("div",{className:"menu-subtitle",children:"~ Awaiting players..."}),Object(r.jsx)("div",{className:"menu-players",children:s.players.map((function(n){return Object(r.jsx)(r.Fragment,{children:e.user&&n.id===e.user.id?Object(r.jsxs)("div",{children:[" * ",n.username]},n.id):Object(r.jsxs)("div",{children:[" ",n.username]},n.id)})}))}),!e.user&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("input",{className:"menu-input",type:"text",placeholder:"Nickname (optional)",name:"username",value:O,onChange:function(e){switch(e.target.name){case"username":y(e.target.value)}}}),Object(r.jsx)("input",{className:"menu-button",type:"button",value:"Join",onClick:function(){O&&""!==O&&O.length>0?de({variables:{username:O,gameId:t}}):alert("Please enter a username.")}})]}),e.user&&s.owner.id===e.user.id&&s.players.length>=2&&Object(r.jsx)("input",{className:"menu-button",type:"button",value:"Start Game",onClick:pe})]}),!M&&s&&"pending"!==s.state&&Object(r.jsxs)("div",{className:"game-display",children:[Object(r.jsx)("div",{className:"options",children:s.players.map((function(n){return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:"player-card",style:{backgroundColor:n.color},onClick:function(){return je({variables:{username:n.username,gameId:s.id}})},children:[Object(r.jsxs)("div",{children:[n.id===s.currentPlayer.id?"->":""," ",n.username," ",e.user&&n.id===e.user.id?"(you)":""]}),Object(r.jsxs)("div",{children:["$",n.balance," "]})]})})}))}),Object(r.jsx)(J,{game:s,message:U?U.gameEvents.message:null,setSelectedTile:T}),"auction"===s.state?Object(r.jsx)(V,{game:s,user:e.user,bids:s.auctions[0].bids,bal:e.user.balance,highest:Math.max.apply(Math,s.auctions[0].bids.map((function(e){return e.amount}))),setBid:D,increase:Y,end:ne,tileId:s.currentPlayer.tile.id}):null,Object(r.jsxs)("div",{className:"options",children:[null!==f&&!X&&Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(ee,{tile:_.tile})}),e.user&&s&&s.currentPlayer.id===e.user.id&&Object(r.jsxs)(r.Fragment,{children:[null!==f&&!X&&_&&"Property"===_.tile.boardTileType&&null!==_.tile.boardTile.player&&s.currentPlayer.id===_.tile.boardTile.player.id&&Object(r.jsxs)(r.Fragment,{children:[!0===_.tile.boardTile.canBuyHouse&&_.tile.boardTile.stage<5&&s.currentPlayer.balance>=_.tile.boardTile.housePrice&&Object(r.jsx)("input",{className:"menu-button",type:"button",value:"Buy House",onClick:ce}),!0===_.tile.boardTile.canSellHouse&&_.tile.boardTile.stage>0&&Object(r.jsx)("input",{className:"menu-button",type:"button",value:"Sell House",onClick:oe}),"mortgaged"!==_.tile.boardTile.state?Object(r.jsx)("input",{className:"menu-button",type:"button",value:"Mortgage",onClick:xe}):Object(r.jsx)("input",{className:"menu-button",type:"button",value:"Un Mortgage",onClick:Ie})]}),"Property"===s.currentPlayer.tile.boardTileType&&null===s.currentPlayer.tile.boardTile.player&&Object(r.jsx)(W,{buy:ie,auction:re,tileId:s.currentPlayer.tile.id}),s.currentPlayer.canRoll?Object(r.jsx)("input",{className:"menu-button",type:"button",value:"Roll",onClick:ye}):Object(r.jsx)("input",{className:"menu-button",type:"button",value:"End",onClick:he})]})]})]})]})},le=t(90),ce=t(207),se=t(3),oe=t(208),ue=t.n(oe),de=(t(361),new o.HttpLink({uri:"http://143.198.235.198:3000/graphql"})),be=ue.a.createConsumer("ws://143.198.235.198:3000/cable"),je=Object(o.split)((function(e){var n=e.query,t=Object(se.p)(n);return"OperationDefinition"===t.kind&&"subscription"===t.operation}),new ce.ActionCableLink({cable:be}),de),me=new o.ApolloClient({link:je,cache:new o.InMemoryCache});var pe=function(){var e=Object(a.useState)(null),n=Object(c.a)(e,2),t=n[0],i=n[1];return Object(r.jsx)(o.ApolloProvider,{client:me,children:Object(r.jsx)(le.a,{children:Object(r.jsxs)(Q.d,{children:[Object(r.jsx)(Q.b,{path:"/game/:id",children:Object(r.jsx)(ie,{user:t,setUser:i})}),Object(r.jsx)(Q.b,{exact:!0,path:"/",children:Object(r.jsx)(ae,{setUser:i})})]})})})},Oe=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,371)).then((function(n){var t=n.getCLS,r=n.getFID,a=n.getFCP,i=n.getLCP,l=n.getTTFB;t(e),r(e),a(e),i(e),l(e)}))};l.a.render(Object(r.jsx)(pe,{}),document.getElementById("root")),Oe()}},[[362,1,2]]]);
//# sourceMappingURL=main.45fca0aa.chunk.js.map